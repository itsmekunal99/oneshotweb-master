<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bat-Ball-Game</title>
</head>
<body>
    <!-- in this game there is two player computer and you
    on every chance there is a combination of two things one selected from your side and one from the 
    computer side   
    when bat vs ball => bat wins
    when ball vs wicket => ball wins
    when wicket vs bat =>  wicket wins
     -->
    <h1>Bat- Ball- Game</h1>
    <hr>
    <h3>press any button</h3>

    <!-- now we are storing the score in the loczl storage -->
    <button 
        onclick="
        let computer=randomgenerator();  
        let res = results('bat',computer);
        score.display( 'bat',computer, res);
        "
    >bat</button>

 <!-- ball button -->
    <button 
        onclick="
        computer= randomgenerator(); 
        res = results('ball',computer);
        score.display('ball',computer , res);
        "
    >ball</button>
    

<!-- wicket button -->
    <button 
        onclick="
        computer= randomgenerator(); 
        res = results('wicket',computer);
        score.display('wicket',computer,  res);
        "
    >wicket</button>


    <script>
        let score={
            win:0,
            lost:0,
            tie:0,
        
        }; 
        score.display = function(user, comp, result){
            alert(`you choose ${user}.\ncomputer choose ${comp}.\n${result}
            \nwin:${score.win} ; lost:${score.lost} ; tie:${score.tie} `);
            localStorage.setItem('score',JSON.stringify(score));
        }

       
        function randomgenerator(){
            let randnum = Math.random()*3;
            if(randnum>0 && randnum<=1){
                return 'bat';
            }else if(randnum > 1 && randnum <=2){
                return 'ball';
            }else{
                return 'wicket';
            }
        }

       
        // more optimized code for the above result function code
        function results(choice,comchoice){
            if (choice===comchoice){
                score.tie++;
                return 'its a tie';
            }else if(choice ==='ball' &&comchoice==='bat'){
                score.lost++;
                return'user lost';
            }else if(choice ==='wicket' && comchoice=== 'ball'){
                score.lost++;
                return'user lost';
            }else if(choice ==='bat' && comchoice=== 'wicket'){
                score.lost++;
                return 'user lost';
            }else{
                score.win++;
                return'user won';
            }
        }

       
        
        
    </script>

</body>
</html>